<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Carbon Footprint Project — Interactive</title>
  <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--muted:#9aa4b2;--accent:#22c1c3}
    body{font-family:Inter, system-ui, -apple-system, Roboto, 'Segoe UI', Arial; margin:0;background:linear-gradient(180deg,#071129 0%, #07172a 60%);color:#e6eef6}
    .container{max-width:1100px;margin:32px auto;padding:24px}
    header{display:flex;gap:16px;align-items:center}
    h1{margin:0;font-size:1.6rem}
    p.lead{color:var(--muted);margin-top:6px}
    .grid{display:grid;grid-template-columns:1fr 380px;gap:20px;margin-top:20px}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);padding:18px;border-radius:12px}
    label{display:block;font-size:0.85rem;color:var(--muted);margin-bottom:6px}
    input[type="number"],select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
    .row{display:flex;gap:12px}
    .row > *{flex:1}
    button{background:var(--accent);border:none;padding:10px 14px;border-radius:10px;color:#042025;font-weight:700;cursor:pointer}
    .small{font-size:0.82rem;color:var(--muted)}
    ul.tips{padding-left:18px;margin:8px 0}
    .result{font-size:1.2rem;font-weight:700;color:#ffd36b}
    .bar{height:12px;background:rgba(255,255,255,0.06);border-radius:999px;margin-top:8px;overflow:hidden}
    .bar > i{display:block;height:100%;background:linear-gradient(90deg,#22c1c3,#7effb2);width:0%}
    footer{margin-top:18px;color:var(--muted);font-size:0.85rem}
    @media(max-width:880px){.grid{grid-template-columns:1fr} .card{padding:14px}}
    /* flowchart svg container */
    .flow-wrap{background:linear-gradient(180deg,rgba(255,255,255,0.015),transparent);padding:12px;border-radius:10px}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div>
        <h1>Carbon Footprint — Interactive Project</h1>
        <p class="lead">A small web app implementing the project's calculator, literature summary, flowchart and reduction suggestions.</p>
      </div>
    </header>

    <div class="grid">
      <main class="card">
        <h2>1) Personal Carbon Calculator</h2>
        <p class="small">Enter your typical values (weekly/monthly) and press <strong>Calculate</strong>.</p>

        <div style="margin-top:12px">
          <label>Electricity usage (kWh per month)</label>
          <input id="inp_kwh" type="number" min="0" value="200" />
        </div>

        <div style="margin-top:12px" class="row">
          <div>
            <label>Car - km driven per week</label>
            <input id="inp_km" type="number" min="0" value="150" />
          </div>
          <div>
            <label>Car fuel efficiency (km per litre)</label>
            <input id="inp_kmpl" type="number" min="1" value="15" />
          </div>
        </div>

        <div style="margin-top:12px" class="row">
          <div>
            <label>Monthly flights (short-haul flights)</label>
            <input id="inp_sh" type="number" min="0" value="0" />
          </div>
          <div>
            <label>Monthly flights (long-haul flights)</label>
            <input id="inp_lh" type="number" min="0" value="0" />
          </div>
        </div>

        <div style="margin-top:12px">
          <label>Diet</label>
          <select id="inp_diet">
            <option value="2.5">Omnivore (default)</option>
            <option value="1.7">Vegetarian</option>
            <option value="1.2">Plant-based</option>
          </select>
          <p class="small">Diet factor: annual tCO2e contribution multiplier (relative baseline used).</p>
        </div>

        <div style="margin-top:12px">
          <label>Waste & consumption (kg of waste per week)</label>
          <input id="inp_waste" type="number" min="0" value="3" />
        </div>

        <div style="display:flex;gap:10px;margin-top:14px">
          <button id="btn_calc">Calculate</button>
          <button id="btn_save" style="background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)">Save profile</button>
          <button id="btn_reset" style="background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)">Reset</button>
        </div>

        <div style="margin-top:16px;background:rgba(255,255,255,0.02);padding:12px;border-radius:8px">
          <div>Total annual emissions estimate:</div>
          <div class="result" id="total_out">— tCO₂e / year</div>
          <div class="bar"><i id="bar_fill"></i></div>
          <div style="display:flex;gap:12px;margin-top:8px;align-items:center;flex-wrap:wrap">
            <div class="card" style="flex:1;padding:8px;min-width:140px">
              <div class="small">Electricity</div>
              <div id="out_elec">— tCO₂e</div>
            </div>
            <div class="card" style="flex:1;padding:8px;min-width:140px">
              <div class="small">Transport</div>
              <div id="out_trans">— tCO₂e</div>
            </div>
            <div class="card" style="flex:1;padding:8px;min-width:140px">
              <div class="small">Flights</div>
              <div id="out_flights">— tCO₂e</div>
            </div>
            <div class="card" style="flex:1;padding:8px;min-width:140px">
              <div class="small">Diet & Waste</div>
              <div id="out_food">— tCO₂e</div>
            </div>
          </div>
        </div>

        <section style="margin-top:18px">
          <h3 style="margin:0">2) Reduction suggestions</h3>
          <ul class="tips">
            <li>Switch to energy-efficient appliances and LED lighting.</li>
            <li>Use public transport, carpool or shift to electric mobility where possible.</li>
            <li>Reduce red meat consumption; prefer plant-based meals.</li>
            <li>Improve home insulation and consider rooftop solar.</li>
            <li>Reduce waste and recycle — compost organic waste.</li>
          </ul>
        </section>

        <section style="margin-top:12px">
          <h3 style="margin:0">3) Project flowchart</h3>
          <div class="flow-wrap" style="margin-top:8px">
            <!-- Simple SVG flowchart based on methodology from the report -->
            <svg width="100%" viewBox="0 0 900 240" preserveAspectRatio="xMinYMid meet" aria-hidden>
              <defs>
                <style>text{font-family:Inter,Arial;font-size:12px;fill:#e6eef6}</style>
              </defs>
              <rect x="20" y="20" width="160" height="40" rx="8" fill="#072032" stroke="#0f5670" />
              <text x="100" y="45" text-anchor="middle">Problem Identification</text>

              <rect x="210" y="20" width="180" height="40" rx="8" fill="#072032" stroke="#0f5670" />
              <text x="300" y="45" text-anchor="middle">Literature Review</text>

              <rect x="420" y="20" width="200" height="40" rx="8" fill="#072032" stroke="#0f5670" />
              <text x="520" y="45" text-anchor="middle">Data Collection</text>

              <rect x="20" y="90" width="170" height="40" rx="8" fill="#072032" stroke="#0f5670" />
              <text x="105" y="115" text-anchor="middle">Analysis of Sources</text>

              <rect x="220" y="90" width="190" height="40" rx="8" fill="#072032" stroke="#0f5670" />
              <text x="315" y="115" text-anchor="middle">Mitigation Strategies</text>

              <rect x="460" y="90" width="240" height="40" rx="8" fill="#072032" stroke="#0f5670" />
              <text x="580" y="115" text-anchor="middle">Implementation Framework</text>

              <rect x="320" y="160" width="220" height="40" rx="8" fill="#072032" stroke="#0f5670" />
              <text x="430" y="185" text-anchor="middle">Results & Recommendations</text>

              <g stroke="#274d5a" stroke-width="2" fill="none">
                <path d="M180 40 L210 40" />
                <path d="M390 40 L420 40" />
                <path d="M100 60 L100 90" />
                <path d="M310 60 L310 90" />
                <path d="M520 60 L520 90" />
                <path d="M370 130 L370 160" />
              </g>
            </svg>
          </div>
        </section>

        <section style="margin-top:14px">
          <h3 style="margin:0">4) Literature & methods</h3>
          <p class="small">This site implements the report's methodology and provides actionable suggestions. The project report (synopsis) used as reference is included with the project. Key references: Wiedmann & Minx (2008), IPCC reports, GHG Protocol and MRIO studies.</p>
        </section>
      </main>

      <aside>
        <div class="card" style="margin-bottom:14px">
          <h3 style="margin:0">Quick facts</h3>
          <p class="small" style="margin-top:8px">Global context, sectoral hotspots and standards used in the report are implemented here: Scope 1–3 thinking, life-cycle approach (PAS 2050 / ISO 14067) and household hotspots (food, transport, electricity). </p>
        </div>

        <div class="card" style="margin-bottom:14px">
          <h3 style="margin:0">Controls & export</h3>
          <p class="small" style="margin-top:8px">You can save your profile to local storage, export a shareable summary (CSV) or reset the form.</p>
          <div style="display:flex;gap:8px;margin-top:10px">
            <button id="btn_export">Export CSV</button>
            <button id="btn_share" style="background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)">Share (copy)</button>
          </div>
        </div>

        <div class="card">
          <h3 style="margin:0">Project schedule</h3>
          <p class="small" style="margin-top:8px">A sample 10-week schedule was included in the report. Use this app to collect data during weeks 4–7 and run analysis in weeks 8–10.</p>
        </div>
      </aside>
    </div>

    <footer>
      <div>Built for the Carbon Footprints project. Report used as source: project synopsis uploaded with the assignment. (See project file in repository.)</div>
    </footer>
  </div>

<script>
// Emission factors (approximate):
// electricity: kg CO2 per kWh (India ~0.82 used here)
// petrol: kg CO2 per litre ~2.31
// flight factors: short-haul per flight (avg) 0.15 t CO2 per flight, long-haul 0.6 t per flight (simplified per-month counts)
const EF = { elec:0.82, petrol_per_l:2.31, flight_sh:0.15, flight_lh:0.6, waste_kg_week:0.05 };

function calc(){
  const kwh = Number(document.getElementById('inp_kwh').value) || 0; // monthly
  const km_week = Number(document.getElementById('inp_km').value) || 0;
  const kmpl = Number(document.getElementById('inp_kmpl').value) || 12;
  const sh = Number(document.getElementById('inp_sh').value) || 0;
  const lh = Number(document.getElementById('inp_lh').value) || 0;
  const diet_factor = Number(document.getElementById('inp_diet').value) || 2.5;
  const waste = Number(document.getElementById('inp_waste').value) || 0;

  // Electricity annual
  const elec_annual_t = (kwh * 12 * EF.elec)/1000; // tCO2e

  // Transport: compute litres per week = km_week / kmpl, yearly litres
  const litres_year = (km_week / kmpl) * 52;
  const trans_annual_t = (litres_year * EF.petrol_per_l)/1000; // tCO2e

  // Flights
  const flights_annual_t = (sh * 12 * EF.flight_sh) + (lh * 12 * EF.flight_lh);

  // Diet: we'll use diet_factor as annual tCO2e baseline per person (approximate)
  const diet_annual_t = diet_factor; // tCO2e per year (simplified)

  // Waste & consumption
  const waste_annual_t = (waste * 52 * EF.waste_kg_week)/1000; // tCO2e

  const total = elec_annual_t + trans_annual_t + flights_annual_t + diet_annual_t + waste_annual_t;

  document.getElementById('out_elec').innerText = elec_annual_t.toFixed(2) + ' tCO₂e';
  document.getElementById('out_trans').innerText = trans_annual_t.toFixed(2) + ' tCO₂e';
  document.getElementById('out_flights').innerText = flights_annual_t.toFixed(2) + ' tCO₂e';
  document.getElementById('out_food').innerText = (diet_annual_t + waste_annual_t).toFixed(2) + ' tCO₂e';

  document.getElementById('total_out').innerText = total.toFixed(2) + ' tCO₂e / year';
  // fill bar (cap at 50 tCO2)
  const pct = Math.min(100, (total / 50) * 100);
  document.getElementById('bar_fill').style.width = pct + '%';

  return { total, breakdown:{elec:elec_annual_t,trans:trans_annual_t,flights:flights_annual_t,diet:diet_annual_t,waste:waste_annual_t} };
}

document.getElementById('btn_calc').addEventListener('click', ()=>{
  const r = calc();
  // save last result to lastResult for export
  window.lastResult = r;
});

// Save profile
document.getElementById('btn_save').addEventListener('click', ()=>{
  const profile = {
    kwh:document.getElementById('inp_kwh').value,
    km_week:document.getElementById('inp_km').value,
    kmpl:document.getElementById('inp_kmpl').value,
    sh:document.getElementById('inp_sh').value,
    lh:document.getElementById('inp_lh').value,
    diet:document.getElementById('inp_diet').value,
    waste:document.getElementById('inp_waste').value,
    saved: new Date().toISOString()
  };
  localStorage.setItem('cf_profile', JSON.stringify(profile));
  alert('Profile saved locally.');
});

// Reset
document.getElementById('btn_reset').addEventListener('click', ()=>{
  if(confirm('Reset form to defaults?')){
    document.getElementById('inp_kwh').value=200;
    document.getElementById('inp_km').value=150;
    document.getElementById('inp_kmpl').value=15;
    document.getElementById('inp_sh').value=0;
    document.getElementById('inp_lh').value=0;
    document.getElementById('inp_diet').value=2.5;
    document.getElementById('inp_waste').value=3;
    calc();
  }
});

// Export CSV
document.getElementById('btn_export').addEventListener('click', ()=>{
  const r = window.lastResult || calc();
  const profile = JSON.parse(localStorage.getItem('cf_profile')||'{}');
  const rows = [
    ['field','value'],
    ['kwh_month', profile.kwh||document.getElementById('inp_kwh').value],
    ['km_week', profile.km_week||document.getElementById('inp_km').value],
    ['kmpl', profile.kmpl||document.getElementById('inp_kmpl').value],
    ['total_tCO2e_per_year', r.total.toFixed(3)]
  ];
  const csv = rows.map(r=>r.join(',')).join('\n');
  const blob = new Blob([csv],{type:'text/csv'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href=url; a.download='carbon-summary.csv'; a.click(); URL.revokeObjectURL(url);
});

// Share -> copy summary
document.getElementById('btn_share').addEventListener('click', ()=>{
  const r = window.lastResult || calc();
  const text = `Estimated annual emissions: ${r.total.toFixed(2)} tCO2e. Breakdown: electricity ${r.breakdown.elec.toFixed(2)}t, transport ${r.breakdown.trans.toFixed(2)}t, flights ${r.breakdown.flights.toFixed(2)}t, diet ${r.breakdown.diet.toFixed(2)}t.`;
  navigator.clipboard?.writeText(text).then(()=>alert('Summary copied to clipboard.'), ()=>alert('Copy failed — please allow clipboard access.'));
});

// On load, try to populate saved
window.addEventListener('load', ()=>{
  const p = JSON.parse(localStorage.getItem('cf_profile')||'null');
  if(p){
    document.getElementById('inp_kwh').value=p.kwh||200;
    document.getElementById('inp_km').value=p.km_week||150;
    document.getElementById('inp_kmpl').value=p.kmpl||15;
    document.getElementById('inp_sh').value=p.sh||0;
    document.getElementById('inp_lh').value=p.lh||0;
    document.getElementById('inp_diet').value=p.diet||2.5;
    document.getElementById('inp_waste').value=p.waste||3;
  }
  calc();
});

</script>
</body>
</html>
